<!-- this is the template for the email thread for a record that is tied to emails -->
<template>
    <div class="email-feed">
        <!-- 
            NEW MESSAGE
        -->
        <c-new-message-box
            onsent={newMessageSent}>
        </c-new-message-box>

        <!-- 
            OLD MESSAGES
        -->
        <!-- START LOOP -->
        <template 
            for:each={messages}
            for:item="message">

            <!-- Message box -->
            <c-message-box
                key={message.Id} 
                message={message}
                onreply={setNewMessage}>
            </c-message-box>
            <!-- END Message box -->

        </template>
        <!-- END LOOP -->

    </div>
</template>